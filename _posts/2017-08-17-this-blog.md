---
layout:     post
title:      "关于这个Blog的一些功能和实现"
subtitle:   "搭建Blog过程，遇到困难和解决方法，优化功能，添加创意。"
date:       2017-8-17 10:28:29
author:     "Rick"
header-img: "img/post-bg/sunshine-dog.jpg"
catalog:    true
tags:
    - Jekyll
    - BLOG
    - Javascript
    - CleanRead
---

### 自我介绍
***
我是Rick。（我叫RiRick）  
这是[这个blog](/about/)的简介。  
然后再说回我。（我负责吐槽）  
我是一个程序猿，目标是成为大能，目前是个小白。（嗯，是个小白...）  
在这里我将记一些修炼笔记。  
目的为留待以后查阅。  
我计划最近研究后台服务端。（其实就是Java..）  
同时我对JavaScript也很有兴趣。（暂时只接触到前端的JS）  
原因是，见效快，容易出成果..（虚荣心作祟嘿！）  
其他关于我自己的介绍和趣事后面我打算单独写点东西出来。  
总之，介绍结束。  
  
哦，对了，如果你嫌吐槽烦的话，PC端右边最上面的``Clean Read``按钮可以帮你隐藏它们。（嘿，老兄别..）  
当然隐藏之后再点一下就恢复了。（你要了解吐槽的乐趣！）  
  
嗨，如果你连这个介绍都觉得烦的话，没关系，点标题隐藏它！直奔主题吧！  
当然如果又想看了，再点一下吧！（我一般是直接隐藏的嘿..）  


### Blog搭建三两事
***
搭建blog对我来说是件趣事。  
我从中学习到很多。  
  
这个blog使用Jekyll静态网站工具和GitHub的pages服务搭建，而且是基于现有的模板修改而来（感谢Hux提供的模板），可以说搭建的很顺利。（鬼才信...）  
好吧，虽然大问题没有，小问题特别是疑难杂症不断。（明明是修行不到家）  
  
Jekyll整体上理解起来不难，它在HTML标签上使用一种叫Liquid的语言来解析页面，GitHub的pages更是傻瓜式操作。  
问题主要出现在优化和自己写新功能上。（就是作出来的问题）  
Hux大大的模板除了博客基本功能之外有下面这些功能。  
* 标签
* 目录
* 评论系统（使用了disqus）
* 幻灯片（这个还没研究）
* 锚
* 数据统计（使用了谷歌）  

大致这些。功能简单实用，让人专注内容。  
我在拿来的基础上自己作死添加了下面的功能。  
* 目录滚动优化
* 定义吐槽并设置开关
* 可折叠小节

这些功能花了我一星期的业余时间，我不得不将学习Spring框架的计划向后延期了一星期。  
不过学习中有乐趣，也有不少收获。  
至少我对于Jekyll和Js更加理解和熟悉了。（虽然并没有多少...）  
  
下面是研究和实现时遇到的问题以及完善的或者不完善的解决方案。  

### 目录滚动优化
***
目录滚动优化这个说法不准确，但一时找不到更好的说法。（计算高度弄的脑子浆糊了）  
滚动条调整起来真是时间杀手。  
目录本身是从模板拿来的。  
但是模板中只有当滚动条超过目录时固定显示的控制。  
![超过目录置顶](/img/post-img/2017-8-21-old-catalog.gif)   
出于对目录过长可能显示不全的问题的考虑，我加入了滚动条到容器底部时恢复静态元素的控制。  
![容器底部恢复静态元素](/img/post-img/2017-8-21-catalog.gif)   
思路是，  
``页面高度 - 目录高度 - footer高度 - 评论框高度 = 目录解除固定的坐标点``  
然后判断当前滚动条高度到达这个点之后去除fixed属性设置top属性值为上面这个点的高度。  
思路很简单，但是调试花了近一天的时间。（包括一开始思路不对的时候..）  


### test
### test
### test
### test
### test
### test
### test



